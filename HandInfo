using UnityEngine;
using System.Collections;
using Leap;
using Leap.Unity;

public class HandInfo : MonoBehaviour
{
    HandModel hand_model;
    Hand leap_hand;

    public GameObject ball;
    public SignalController signal;

    void Start()
    {
        hand_model = GetComponent<HandModel>();
        leap_hand = hand_model.GetLeapHand();
        if (leap_hand == null)
        {
            Debug.LogError("No leap_hand found");
        } else
        {
            Debug.Log("Found hand");
        }
    }

    void Update()
    {
        for (int i = 0; i < HandModel.NUM_FINGERS; i++)
        {
            FingerModel finger = hand_model.fingers[i];
            // draw ray from finger tips (enable Gizmos in Game window to see)
            //Debug.DrawRay(finger.GetTipPosition(), finger.GetRay().direction, Color.red);
            //Debug.Log(finger.GetTipPosition());
            if (Vector3.Distance(finger.GetTipPosition(), ball.transform.position) < .1)
            {
                signal.sendSignal(i, 9);
                Debug.Log("finger" + i + "buzzz");
            } else
            {
                signal.sendSignal(i, 0);
                Debug.Log("finger" + i + "silence");
            }
        }
    }
}
